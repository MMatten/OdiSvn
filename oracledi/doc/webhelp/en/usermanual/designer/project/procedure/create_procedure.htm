<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>

<head>
<title>Creating a Procedure</title>
<meta http-equiv="content-type" content="text/html; charset=windows-1252">
<meta name="generator" content="RoboHelp by eHelp Corporation www.ehelp.com">
<link rel="stylesheet" href="../../../../include/common_ns.css"><script type="text/javascript" language="JavaScript" title="WebHelpSplitCss">
<!--
if (navigator.appName !="Netscape")
{   document.write("<link rel='stylesheet' href='../../../../include/common.css'>");}
//-->
</script>
<style type="text/css">
<!--
ol.whs1 { list-style:decimal; }
img_whs2 { border:none; width:16px; height:16px; float:none; border-style:none; }
ul.whs3 { list-style:disc; }
img_whs4 { border:none; width:16px; height:16px; border-style:none; float:none; }
-->
</style><script type="text/javascript" language="JavaScript" title="WebHelpInlineScript">
<!--
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//-->
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute; left:0px; top:0px; z-index:4; visibility:hidden; }
-->
</style><script type="text/javascript" language="javascript1.2" src="../../../../whtopic.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../../../whutils.js"></script>
<script type="text/javascript" language="javascript" src="../../../../whver.js"></script>
<script  type="text/javascript" language="javascript1.2">
    <!--
    var linkedScrollbarStyle = "<link rel='stylesheet' href='../../../../wf_topics.css'>";
    if( (!isTopicOnly()) &&(parent.gbFHPureHtml == null) )
    {
        document.write(linkedScrollbarStyle);
    }
    //-->
</script>
</head>
<body><script type="text/javascript" language="javascript1.2">
<!--
if (window.addTocInfo)
{
addTocInfo("User's Guide\nDesigner\nProjects\nCreating Procedures\nCreating a Procedure");
addTocInfo("User's Guide\nDesigner\nProjects\nCreating Procedures\nCreating a New Procedure");
addTocInfo("User's Guide\nDesigner\nProjects\nCreating Procedures\nDefining the Procedure's Options");
addTocInfo("User's Guide\nDesigner\nProjects\nCreating Procedures\nManaging the Procedure's Commands");
addTocInfo("User's Guide\nDesigner\nProjects\nCreating Procedures\nExecuting Procedures");

  addShowButton();
}
if (window.setRelStartPage)
{
setRelStartPage("../../../../index.htm");

	sendTopicLoaded();
	autoSync(1);
	sendSyncInfo();
	sendAveInfo();
	sendBgColorInfo();
}
//-->
</script>
<h1>Creating a Procedure</h1>

<p>A Procedure is a reusable component that allows you to group actions 
 that do not fit in the Interface framework. (That is load a target datastore 
 from one or more sources).</p>

<p>A <span class=ElementGUI>Procedure</span> is a sequence of <span class=ElementGUI>commands 
 </span>launched on logical schemas. It has a group of associated options. 
 These <span class=ElementGUI>options</span> parameterize whether or not 
 a command should be executed as well as the code of the commands.</p>

<p>Creating a procedure is made through the following steps:</p>

<ol type="1" class="whs1">
	
	<li class=kadov-p><p><a href="create_procedure.htm#Create a new procedure">Create 
 a new procedure</a>.</p></li>
	
	<li class=kadov-p><p><a href="create_procedure.htm#Define the procedure options">Define 
 the procedure's options</a>.</p></li>
	
	<li class=kadov-p><p><a href="create_procedure.htm#Manage the procedure's commands">Create 
 and Manage the procedure's commands</a>.</p></li>
	
	<li class=kadov-p><p><a href="create_procedure.htm#Execute the procedure">Execute 
 the procedure</a>.</p></li>
</ol>

<h2><a name="Create a new procedure"></a>1. Creating a new procedure</h2>

<h6>To create a new procedure:</h6>

<ol type="1" class="whs1">
	
	<li class=kadov-p><p>In the Designer tree view, click the <span class=ElementGUI>procedures</span> 
 node in the <span class=ElementGUI>folder</span> where you want to create 
 the <span class=ElementGUI>procedure</span>.</p></li>
	
	<li class=kadov-p><p>Right click and select <span class=ElementGUI>Insert 
 Procedure</span>.</p></li>
	
	<li class=kadov-p><p>Fill in the procedure's <span class=ElementGUI>name</span>.</p></li>
	
	<li class=kadov-p><p>Check the <span class=ElementGUI>Multi-Connections</span> 
 box if your procedure will manage more than one connection at a time.</p></li>
</ol>

<p class=Remarque><span class=RemarqueTitre>Multi-Connections:</span> It 
 is useful to choose a multi-connection procedure if you wish to use data 
 that is retrieved by a command sent on a connection (the source connection)in 
 a command sent to another connection (the target connection). This data 
 will pass though the execution agent. If you access one connection at 
 a time (which enables you to access different connections, but only one 
 at a time) leave the <span class=RemarqueTitre>Multi-Connections </span>box 
 unchecked.</p>

<ol start="5" type="1" class="whs1">
	
	<li class=kadov-p><p>Select the <span class=ElementGUI>target technology 
 </span>and if the <span class=ElementGUI>Multi-Connections</span> box 
 is checked also select the <span class=ElementGUI>source technology</span>. 
 If you wish to make the procedure generic, leave these fields empty.</p></li>
	
	<li class=kadov-p><p>Click <span class=ElementGUI>Apply.</span></p></li>
</ol>

<p>A new procedure is created, and appears in the list of procedures in 
 the tree view.</p>

<h2><a name="Define the procedure options"></a>2. Defining the procedure's 
 options</h2>

<h6>To create procedure's options:</h6>

<ol type="1" class="whs1">
	
	<li class=kadov-p><p>In the Designer tree view, click on your &nbsp;<span 
 class=ElementGUI>procedures</span>'s node</p></li>
	
	<li class=kadov-p><p>Right click and select <span class=ElementGUI>Insert 
 Option. </span>&nbsp;An 
 option window will appear.</p></li>
	
	<li class=kadov-p><p>Fill in the option's <span class=ElementGUI>Name, 
 type </span>and<span class=ElementGUI> default value</span>.</p></li>
	
	<li class=kadov-p><p>Click <span class=ElementGUI>OK</span>.</p></li>
	
	<li class=kadov-p><p>Repeat these operations for each <span class=ElementGUI>option</span> 
 that is required for the procedure.</p></li>
</ol>

<p class=Remarque><span class=RemarqueTitre>Note:</span> Only <span class=ElementGUI>checkbox</span> 
 options (yes | no) enable you to parameterize whether or not a command 
 should be executed. The values of the other options (<span class=ElementGUI>value</span> 
 and <span class=ElementGUI>text</span>) can only be recovered in the code 
 of the procedure's <span class=ElementGUI>commands</span>, using the <a HREF="../../../../ref_api/getuserexit.html">getOption()</a> substitution 
 method.</p>

<p><span class=ElementGUI>Options</span> appear in the tree view under 
 the <span class=ElementGUI>procedure</span> node.</p>

<h2><a name="Manage the procedure's commands"></a>3. Creating and managing 
 the procedure's commands</h2>

<h6>To create a procedures's command line:</h6>

<ol type="1" class="whs1">
	
	<li class=kadov-p><p>Go to the <span class=ElementGUI>Details</span> 
 tab of the <span class=ElementGUI>Procedure</span>.</p></li>
	
	<li class=kadov-p><p>Click <img src="../../../../images/add_row.gif" x-maintain-ratio="TRUE" width="16px" height="16px" border="0" class="img_whs2">. A <span class=ElementGUI>command</span> 
 window appears.</p></li>
	
	<li class=kadov-p><p>Fill in the following fields:</p></li>
	
	<ul type="disc" class="whs3">
		
		<li class=kadov-p><p><span class=ElementGUI>Name </span>of the 
 command.</p></li>
		
		<li class=kadov-p><p><span class=ElementGUI>Ignore Errors</span> 
 must be checked if you do not want the procedure to stop if this command 
 returns an error.</p></li>
		
		<li class=kadov-p><p><span class=ElementGUI>Log Counter</span> 
 Shows which counter (Insert, Update, Delete or Errors) will record the 
 number of rows processed by this command.</p></li>
		
		<li class=kadov-p><p><span class=ElementGUI>Log level:</span> &nbsp;Level 
 of importance of the command, for consulting the execution log according 
 to this level.</p></li>
	</ul>
	
	<li class=kadov-p><p>For the <span class=ElementGUI>Command on Target</span>, 
 fill in the following fields:</p></li>
	
	<ul type="disc" class="whs3">
		
		<li class=kadov-p><p><span class=ElementGUI>Technology:</span> 
 Technology used for this command. If it is not set, the technology specified 
 in the procedure window is used.</p></li>
		
		<li class=kadov-p><p><span class=ElementGUI>Schema:</span> Logical 
 schema for execution of the command.</p></li>
		
		<li class=kadov-p><p><span class=ElementGUI>Context:</span> Forced 
 Context for the execution. If it is left undefined the execution context 
 will be used.</p></li>
		
		<li class=kadov-p><p><span class=ElementGUI>Transaction:</span> 
 Transaction where the command will be executed.</p></li>
		
		<li class=kadov-p><p><span class=ElementGUI>Commit:</span> Indicates 
 the commit mode of the command in the transaction.</p></li>
		
		<li class=kadov-p><p><span class=ElementGUI>Transaction Isolation</span>: 
 The transaction isolation level for the command.</p></li>
		
		<li class=kadov-p><p><span class=ElementGUI>Command</span>: Text 
 of the command to execute. You may call the expression editor by clicking 
 <img src="../../../../images/exp_edit.gif" x-maintain-ratio="TRUE" width="16px" height="16px" border="0" class="img_whs4">.</p></li>
	</ul>
</ol>

<p class=Remarque><span class=ElementGUI>Note:</span> You can use commands 
 in the appropriate language for the technology. To use OS commands, you 
 must use the <span style="font-weight: bold;"><B>Operating System Technology</B></span>, 
 and to use <a HREF="../../../../ref_tools/tools_list.html">Oracle Data Integrator 
 Tools</a>, you must use the <span style="font-weight: bold;"><B>Oracle Data Integrator 
 API </B></span>technology.</p>

<p class=Remarque><span class=RemarqueTitre>Note:</span> It is advised 
 to use the <a HREF="../../../../ref_api/syntaxe_functions.html">substitution 
 methods</a> to make the code generic and dependent on the elements of 
 the topology.</p>

<p class=Remarque><span class=AlertTitre>Warning:</span> The <span class=ElementGUI>transaction</span>, 
 <span class=ElementGUI>commit</span> and <span class=ElementGUI>transaction</span> 
 <span class=ElementGUI>isolation </span>options work only for technologies 
 supporting transactions.</p>

<ol start="5" type="1" class="whs1">
	
	<li class=kadov-p><p>Repeat step 4 for the <span class=ElementGUI>command 
 on the source.</span></p></li>
	
	<li class=kadov-p><p>Go to the <span class=ElementGUI>Options</span> 
 tab.</p></li>
	
	<li class=kadov-p><p>Check the <span class=ElementGUI>always execute 
 </span>box if you want this command to be executed all the time regardless 
 of the option values. Otherwise, check the <span class=ElementGUI>options</span> 
 that will cause this command to be executed.</p></li>
	
	<li class=kadov-p><p>Click <span class=ElementGUI>OK</span></p></li>
</ol>

<h6>To duplicate a command:</h6>

<ol type="1" class="whs1">
	
	<li class=kadov-p><p>Go to the <span class=ElementGUI>Details</span> 
 tab of the <span class=ElementGUI>Procedure</span>.</p></li>
	
	<li class=kadov-p><p>Click the command to duplicate.</p></li>
	
	<li class=kadov-p><p>Right-click then select <span class=ElementGUI>Duplicate</span>.<br>
	A <span class=ElementGUI>command</span> window appears. It is a copy 
 of the selected command. </p></li>
	
	<li class=kadov-p><p>Change it, then click <span class=ElementGUI>OK</span>.</p></li>
</ol>

<p>The new command appears.</p>

<h6>To delete a command line:</h6>

<ol type="1" class="whs1">
	
	<li class=kadov-p><p>Go to the <span class=ElementGUI>Details</span> 
 tab of the <span class=ElementGUI>Procedure</span>.</p></li>
	
	<li class=kadov-p><p>Click the <span class=ElementGUI>command line 
 </span>to delete.</p></li>
	
	<li class=kadov-p><p>Click <img src="../../../../images/delete16.gif" x-maintain-ratio="TRUE" width="16px" height="16px" border="0" class="img_whs2">.</p></li>
</ol>

<p>The command line will disappear from the list..</p>

<h6>To order the command lines:</h6>

<p>The <span class=ElementGUI>command</span> lines are executed in the 
 order displayed in the <span class=ElementGUI>details</span> tab of the 
 <span class=ElementGUI>procedure</span> window. It may be necessary to 
 reorder them..</p>

<ol type="1" class="whs1">
	
	<li class=kadov-p><p>Go to the <span class=ElementGUI>Details</span> 
 tab of the <span class=ElementGUI>Procedure</span>.</p></li>
	
	<li class=kadov-p><p>Click on the <span class=ElementGUI>command line 
 </span>you wish to move.</p></li>
	
	<li class=kadov-p><p>Click &nbsp;<img src="../../../../images/arrow_down.gif" x-maintain-ratio="TRUE" width="16px" height="16px" border="0" class="img_whs2"> and <img src="../../../../images/arrow_up.gif" x-maintain-ratio="TRUE" width="16px" height="16px" border="0" class="img_whs2"> to move the command line to the appropriate 
 position.</p></li>
</ol>

<h2><a name="Execute the procedure"></a>4. Executing the procedure</h2>

<p>When the procedure is ready, it is possible to test it.</p>

<h6>To run a procedure:</h6>

<ol type="1" class="whs1">
	
	<li class=kadov-p><p>In the <span class=ElementGUI>Execution </span>tab 
 of the <span class=ElementGUI>procedure,</span> click <span class=ElementGUI>Execute</span>.</p></li>
	
	<li class=kadov-p><p>If you have not saved your procedure yet, then 
 click <span class=ElementGUI>Yes</span> when asked to save it.</p></li>
	
	<li class=kadov-p><p>Set the <span class=ElementGUI><a href="../../../../refmanual/designer/project/folder/interface/pop_execute.htm">Execution 
 options</a></span>, then click <span class=ElementGUI>OK</span>.</p></li>
</ol>

</body>
</html>
