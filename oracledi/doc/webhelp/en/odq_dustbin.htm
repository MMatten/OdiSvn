<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>

<head>
<title>odq_Dustbin</title>
<meta http-equiv="content-type" content="text/html; charset=windows-1252">
<meta name="generator" content="RoboHelp by eHelp Corporation www.ehelp.com">
<link rel="stylesheet" href="include/common_ns.css"><script type="text/javascript" language="JavaScript" title="WebHelpSplitCss">
<!--
if (navigator.appName !="Netscape")
{   document.write("<link rel='stylesheet' href='include/common.css'>");}
//-->
</script>
<style type="text/css">
<!--
h2.whs1 { background-color:#c0c0c0; }
p.whs2 { background-color:#c0c0c0; }
h3.whs3 { background-color:#c0c0c0; }
ol.whs4 { list-style:decimal; }
p.whs5 { margin-left:24px; background-color:#c0c0c0; }
ul.whs6 { list-style:disc; }
p.whs7 { margin-left:40px; background-color:#c0c0c0; }
-->
</style><script type="text/javascript" language="JavaScript" title="WebHelpInlineScript">
<!--
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//-->
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute; left:0px; top:0px; z-index:4; visibility:hidden; }
-->
</style><script type="text/javascript" language="javascript1.2" src="whtopic.js"></script>
<script type="text/javascript" language="javascript1.2" src="whutils.js"></script>
<script type="text/javascript" language="javascript" src="whver.js"></script>
<script  type="text/javascript" language="javascript1.2">
    <!--
    var linkedScrollbarStyle = "<link rel='stylesheet' href='wf_topics.css'>";
    if( (!isTopicOnly()) &&(parent.gbFHPureHtml == null) )
    {
        document.write(linkedScrollbarStyle);
    }
    //-->
</script>
</head>
<body><script type="text/javascript" language="javascript1.2">
<!--
if (window.addTocInfo)
{

  addShowButton();
}
if (window.setRelStartPage)
{
setRelStartPage("index.htm");

	sendTopicLoaded();
	autoSync(1);
	sendSyncInfo();
	sendAveInfo();
	sendBgColorInfo();
}
//-->
</script>
<h1>odq_Dustbin</h1>

<h2 class="whs1"><span style="background-color: #c0c0c0;">Performing 
 Repository Backups</span></h2>

<p class="whs2">It is recommended that you back up 
 your Repositories (data directories) on a regular basis.</p>

<p class="whs2">You do not need to back up the tmp 
 directory.</p>

<p class="whs2">Back-up images should only be taken 
 when users are logged off the Oracle Data Quality, background tasks are 
 not running, and the license service (usually running in the scheduler) 
 is stopped.</p>

<h3 class="whs3">Back up a Repository</h3>

<p class=HowTo
	style="background-color: #c0c0c0;">To back up a Repository on Windows</p>

<ol type="1" class="whs4">
	
	<li class=kadov-p><p class="whs2">Log on the 
 Server as Windows administrator.</p></li>
	
	<li class=kadov-p><p class="whs2">Make sure that 
 there are no activities running on the data profiling and quality server. 
 This is very important. Stopping the Scheduler while an activity (data 
 imports, Join processing, etc.) is running could leave a Metabase in an 
 unstable state.</p></li>
	
	<li class=kadov-p><p class="whs2">Open the Windows 
 <span class=ElementGUI>Control Panel &gt; Administrative Tools &gt; Services</span>.</p></li>
	
	<li class=kadov-p><p class="whs2">Right-click 
 on Service <span class=ElementGUI>Oracle DQ - Scheduler</span> and select 
 <span class=ElementGUI>Stop</span>.</p></li>
	
	<li class=kadov-p><p class="whs2">Right-click 
 on Service <span class=ElementGUI>Oracle DQ - inetd</span> and select 
 <span class=ElementGUI>Stop</span>.</p></li>
	
	<li class=kadov-p><p class="whs2">Leave the <span 
 class=ElementGUI>Services</span> window open.</p></li>
	
	<li class=kadov-p><p class="whs2">Locate the 
 Repository Path on the server. The repository is located in the <span 
 class=Code>metabase_data</span> sub-directory of the Oracle Data Profiling 
 or Oracle Data Quality installation directory. For example, <span class=Code>C:\oracle\oracledq\metabase_data</span></p></li>
	
	<li class=kadov-p><p class="whs2">Make a backup 
 (ex. <span class=Code>zip</span>) of the entire data directory structure, 
 excluding the <span class=Code>tmp</span> folder.</p></li>
	
	<li class=kadov-p><p class="whs2">The backup 
 should include all files and sub-folders (except the <span class=Code>tmp</span> 
 folder) including:</p></li>
	
	<li class=kadov-p><p class="whs2">After the backup 
 is complete, return to the Services window.</p></li>
	
	<ol type="1" class="whs4">
		
		<li class=kadov-p><p class="whs2">Right-click 
 on <span class=ElementGUI>Service Oracle DQ - inetd</span> and select 
 <span class=ElementGUI>Start</span>.</p></li>
		
		<li class=kadov-p><p class="whs2">Right-click 
 on <span class=ElementGUI>Service Oracle DQ - Scheduler</span> and select 
 <span class=ElementGUI>Start</span>.</p></li>
	</ol>
</ol>

<p class="whs2">&nbsp;</p>

<p class=HowTo
	style="background-color: #c0c0c0;">To back up a Repository on UNIX</p>

<ol type="1" class="whs4">
	
	<li class=kadov-p><p class="whs2">Log on theServer 
 as UNIX root user.</p></li>
	
	<li class=kadov-p><p class="whs2">Make sure that 
 all users are logged off Oracle Data Profiling or Oracle Data Quality.</p></li>
	
	<li class=kadov-p><p class="whs2">Make sure that 
 there are no activities running on the data profiling and quality server. 
 This is very important. Stopping the Scheduler while an activity (data 
 imports, Join processing, etc.) is running could leave a Metabase in an 
 unstable state.</p></li>
	
	<li class=kadov-p><p class="whs2">Change directories 
 to <span class=Code>ODQ_HOME/metabase/bin </span></p></li>
</ol>

<p class="whs5">When you installed 
 Oracle Data Quality, you were asked Where would you like to install the 
 Oracle DQ application? This is the directory represented by &lt;Server 
 Path&gt;.</p>

<ol start="5" type="1" class="whs4">
	
	<li class=kadov-p><p class="whs2">Stop the Oracle 
 DQ Scheduler by typing the command <span class=Code>./scheduler -stop</span></p></li>
	
	<li class=kadov-p><p class="whs2">Locate the 
 Metabase directory on the server. When you installed Oracle DQ, you were 
 asked <span class=ElementGUI>Where would you like to install your metabases?</span> 
 Go to this directory.</p></li>
	
	<li class=kadov-p><p class="whs2">Make a backup 
 (ex. <span class=Code>tar</span>) of the entire directory structure, excluding 
 the <span class=Code>tmp</span> directory. The backup should include all 
 files and sub-folders including:</p></li>
</ol>

<ul type="disc" class="whs6">
	
	<li class=kadov-p><p class="whs7"><span 
 class=Code>.license.db</span> file</p></li>
	
	<li class=kadov-p><p class="whs7"><span 
 class=Code>logs</span> directory</p></li>
	
	<li class=kadov-p><p class="whs7"><span 
 class=Code>metabase</span> directory</p></li>
	
	<li class=kadov-p><p class="whs7"><span 
 class=Code>scheduler.db</span> file</p></li>
</ul>

<ol start="8" type="1" class="whs4">
	
	<li class=kadov-p><p class="whs2">After the backup 
 completes, change directories to<span class=Code> /&lt;Server Path&gt;/metabase/bin</span></p></li>
	
	<li class=kadov-p><p class="whs2">Start the Scheduler 
 by typing the command: <span class=Code>./scheduler -start</span></p></li>
</ol>

<h2 class="whs1">Performing a Oracle DQ Repository 
 Restore</h2>

<p class="whs2">Before you begin, make sure there 
 are no Oracle DQ activities running on the server. This is very important. 
 Stopping the Oracle DQ Scheduler during activities such as data imports 
 or join analysis can potentially leave the Metabase in an unstable state.</p>

<h3 class="whs3">Restore a Oracle DQ Repository</h3>

<p class=HowTo
	style="background-color: #c0c0c0;">To restore a Repository on Windows</p>

<ol type="1" class="whs4">
	
	<li class=kadov-p><p class="whs2">Log on the 
 Oracle DQ Server as the Windows administrator.</p></li>
	
	<li class=kadov-p><p class="whs2">Open the Windows 
 <span class=ElementGUI>Control Panel &gt; Administrative Tools &gt; Services.</span></p></li>
	
	<li class=kadov-p><p class="whs2">Right-click 
 on the Service named <span class=ElementGUI>Oracle DQ - Scheduler</span> 
 and select <span class=ElementGUI>Stop</span>.</p></li>
	
	<li class=kadov-p><p class="whs2">Right-click 
 on the Service named <span class=ElementGUI>Oracle DQ - inetd</span> and 
 select <span class=ElementGUI>Stop</span>.</p></li>
	
	<li class=kadov-p><p class="whs2">Leave the <span 
 class=ElementGUI>Services</span> window open.</p></li>
	
	<li class=kadov-p><p class="whs2">Locate the 
 Repository Path on the server. This is the path you defined when you installed 
 Oracle DQ. For example, <span class=Code>C:\Documents and Settings\All 
 Users\Application Data\Trillium Software\MBSW\11\.</span></p></li>
	
	<li class=kadov-p><p class="whs2">Make a backup 
 of the logs directory for the Repository and all of its contents.</p></li>
	
	<li class=kadov-p><p class="whs2">Restore (ex. 
 <span class=Code>unzip</span>) the repository backup to the Metabase directory. 
 This must be the exact location where the backup was made.</p></li>
	
	<li class=kadov-p><p class="whs2">Restore the 
 backup of the <span class=Code>logs</span> directory (that you created 
 in step 8) on top of the old <span class=Code>logs</span> directory that 
 was just restored.</p></li>
	
	<li class=kadov-p><p class="whs2">Change directories 
 into the <span class=Code>tmp</span> directory and delete its contents.</p></li>
	
	<li class=kadov-p><p class="whs2">Return to the 
 <span class=ElementGUI>Services</span> window and right-click the Service 
 named <span class=ElementGUI>Oracle DQ - inetd</span> and select <span 
 class=ElementGUI>Start</span>.</p></li>
	
	<li class=kadov-p><p class="whs2">After inetd 
 is started, right-click the Service named <span class=ElementGUI>Oracle 
 DQ - Scheduler</span> and select <span class=ElementGUI>Start</span>.</p></li>
</ol>

<p class="whs2">&nbsp;</p>

<p class=HowTo
	style="background-color: #c0c0c0;">To restore a Repository on UNIX</p>

<ol type="1" class="whs4">
	
	<li class=kadov-p><p class="whs2">Log on the 
 Oracle DQ Server as UNIX root user.</p></li>
	
	<li class=kadov-p><p class="whs2">Make sure that 
 all users have logged off the Oracle Data Quality.</p></li>
	
	<li class=kadov-p><p class="whs2">Make sure that 
 there are no Oracle DQ activities running on the server. This is very 
 important. Stopping the Oracle DQ Scheduler while a Oracle DQ activity 
 (data imports. Join processing, etc.) is running could leave a Metabase 
 in an unstable state.</p></li>
	
	<li class=kadov-p><p class="whs2">Change directories 
 to <span class=Code>/&lt;Server Path&gt;/metabase/bin. </span>When you 
 installed Oracle Data Quality, you were asked <span class=ElementGUI>Where 
 would you like to install the Oracle DQ application?</span> This is the 
 directory represented by <span class=ElementGUI>&lt;Server Path&gt;</span>.</p></li>
	
	<li class=kadov-p><p class="whs2">Stop the Oracle 
 DQ Scheduler by typing the command <span class=Code>./scheduler -stop</span></p></li>
	
	<li class=kadov-p><p class="whs2">Change directories 
 to the Repository Path on the server. When you installed Oracle Data Quality, 
 you were asked <span class=ElementGUI>Where would you like to install 
 your metabases?</span> Go to this directory.</p></li>
	
	<li class=kadov-p><p class="whs2">Make a backup 
 of the <span class=Code>logs</span> directory and all of its contents.</p></li>
	
	<li class=kadov-p><p class="whs2">Restore (ex. 
 <span class=Code>tar</span>) the repository backup to the Metabase directory. 
 This must be the exact location where the backup was made.</p></li>
	
	<li class=kadov-p><p class="whs2">Restore the 
 backup of the <span class=Code>logs</span> directory (that you created 
 in step 7) on top of the <span class=Code>logs</span> directory that was 
 just restored.</p></li>
	
	<li class=kadov-p><p class="whs2">Change directories 
 into the <span class=Code>tmp</span> directory and delete its contents.</p></li>
	
	<li class=kadov-p><p class="whs2">Change directories 
 to <span class=Code>/&lt;Server Path&gt;/metabase/bin</span></p></li>
	
	<li class=kadov-p><p class="whs2">Start the Scheduler 
 by typing the command <span class=Code>./scheduler -start</span></p></li>
</ol>

</body>
</html>
